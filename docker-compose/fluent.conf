<source>
  @type forward
  port 24224
  bind 0.0.0.0
</source>

<match trocco-self-hosted-runner-normal.**>
  @type file
  path /fluentd/log/self-hosted-runner-normal/
  time_slice_format %Y%m%d
  append true
  
  <buffer time>
    @type file
    path /fluentd/log_buffer/self-hosted-runner-normal
    timekey_use_utc true # UTCを使用
    timekey 1d           # 1日単位でファイルを分割
    flush_mode interval  # インターバルモードを明示的に指定
    flush_interval 1s    # 1秒ごとにバッファからログを書き込み
  </buffer>
</match>

<match trocco-self-hosted-runner-enhanced.**>
  @type file
  path /fluentd/log/self-hosted-runner-enhanced/
  time_slice_format %Y%m%d
  append true
  
  <buffer time>
    @type file
    path /fluentd/log_buffer/self-hosted-runner-enhanced
    timekey_use_utc true # UTCを使用
    timekey 1d           # 1日単位でファイルを分割
    flush_mode interval  # インターバルモードを明示的に指定
    flush_interval 1s    # 1秒ごとにバッファからログを書き込み
  </buffer>
</match>
